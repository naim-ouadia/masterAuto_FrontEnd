<br><br><br>
<div class="first-div">
  <div class="second-div" *ngIf="authenticated==null">
    <span class="first-a">
    <a (click)="onAuthenticated()"><strong>Client chez nous ? </strong>Identifiez-vous,pour prendre un Rdv.</a>
      </span>
  </div>
  <div class="third-div">
    <h1 class="title"><strong>Aide et Contact</strong></h1>
    <div class="input-group">
      <input type="text" class="form-control first-input" placeholder="Votre demande ? ">
      <div class="input-group-append">
        <button class="btn button-recherche" type="button">
          <i class="fa fa-search"></i>
        </button>
      </div>

    </div>
    <br>
    <div class="notice  text-center">
      <p>Vous pouvez écrire, par exemple :</p>
      <p> «Mécanique »,«électrique» ou «refroidissement»</p>
    </div>
    <a href="/Ath#assitanceTechnique">
      <button class="first-btn"> Assistance technique
        <strong><i
          class="fa fa-chevron-down"
          style="padding-left: 4px;"></i></strong>
      </button>
    </a>
  </div>
</div>
<!--------------------------------------------------------------------------------------------------------------------->
<br><br>
<div class="container">
  <div class="row mb-2">
    <div class="col-md-6">
      <div class="row no-gutters border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative">
        <div class="col p-4 d-flex flex-column position-static">
          <strong class="d-inline-block mb-2 text-primary">Assistance Technique</strong>
          <h3 class="mb-0">Featured post</h3>
          <div class="mb-1 text-muted">Nov 12</div>
          <p class="card-text mb-auto">This is a wider card with supporting text below as a natural lead-in to
            additional
            content.</p>
          <a href="/Ath#assitanceTechnique" class="stretched-link">Voir plus</a>
        </div>
        <div class="col-auto d-none d-lg-block">
          <svg class="bd-placeholder-img" width="200" height="250" xmlns="http://www.w3.org/2000/svg"
               preserveAspectRatio="xMidYMid slice" focusable="false" role="img" aria-label="Placeholder: Thumbnail">
            <title>Placeholder</title>
            <rect width="100%" height="100%" fill="#55595c"></rect>
            <text x="50%" y="50%" fill="#eceeef" dy=".3em">Thumbnail</text>
          </svg>
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <div class="row no-gutters border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative">
        <div class="col p-4 d-flex flex-column position-static">
          <strong class="d-inline-block mb-2 text-success">Contact</strong>
          <h3 class="mb-0">Dépannage</h3>
          <div class="mb-1 text-muted">Nov 11</div>
          <p class="mb-auto">This is a wider card with supporting text below as a natural lead-in to additional
            content.</p>
          <a href="/Ath#contacts" class="stretched-link">Voir plus</a>
        </div>
        <div class="col-auto d-none d-lg-block">
          <svg class="bd-placeholder-img" width="200" height="250" xmlns="http://www.w3.org/2000/svg"
               preserveAspectRatio="xMidYMid slice" focusable="false" role="img" aria-label="Placeholder: Thumbnail">
            <title>Placeholder</title>
            <rect width="100%" height="100%" fill="#55595c"></rect>
            <text x="50%" y="50%" fill="#eceeef" dy=".3em">Thumbnail</text>
          </svg>
        </div>
      </div>
    </div>
  </div>
  <!------------------------------------------------------------------------------------------------------------------->
  <a name="assitanceTechnique" class="encre">1</a>
  <div class="col-md-6">
    <h1 class="title-h1">Assistance Technique & Dépannage</h1>
    <h2 class="title-h2">Retrouvez les réponses à vos questions portant sur l’installation, l’utilisation et le
      dépannage de votre mobile ou tablette.</h2>
  </div>
  <div class="col-md-10 ">
    <h1 class="title-h1">Que souhaitez-vous faire ?</h1>
    <div class="div-a-ath">
      <button class="first-a-ath" data-toggle="collapse" data-target="#collapse1" (click)="onAllAth()">Changement de
        piéces
      </button>
      <button class="first-a-ath" data-toggle="collapse" data-target="#collapse2" (click)="onAllDepannage()">Dépannage
      </button>
      <button class="first-a-ath" data-toggle="collapse" data-target="#collapse3" (click)="onAllFichier()">
        fichiers
        techniques
      </button>
    </div>
  </div>

  <div class="container">
    <!------------collpase changement de pieces ------------------------------------------------------------------------>
    <div id="collapse1" class="collapse" *ngIf="nbr==='A'">
      <div>
        <form #f="ngForm" (ngSubmit)="onAddAth(f.value)">
          <div class="row">
            <div class="col-md-12">
              <div class="form-inline form-group">
                <input type="text" class=" form-control margin" ngModel name="nomAth" placeholder="Nom Du piéce ">
                <textarea id="form7" class="md-textarea form-control" rows="3" ngModel name="discription"
                          placeholder="Discription"></textarea>
                <button type="submit" class="btn btn-outline-success" style="background-color: white; color: black;">
                  Save
                </button>
              </div>
            </div>
          </div>
        </form>
      </div>
      <div class="col-md-12">
        <div class="form-inline form-group" *ngIf="aths!=null">
          <div *ngFor="let a of aths">
            <a class="sec-a-ath " data-toggle="collapse" data-target="#collapse1-1" (click)="onGetAth(a.id)">{{a.nomAth}}</a>
          </div>
        </div>
      </div>
    </div>
    <!--collpase Dépannage----------------------------------------------------------------------------------------------->
    <div id="collapse2" class="collapse " *ngIf="nbr==='B'">
      <form #f="ngForm" (ngSubmit)="onAddDepannage(f.value)">
        <div class="row">
          <div class="col-md-12">
            <div class="form-inline form-group">
              <input type="text" class=" form-control margin" ngModel name="nomDepannage"
                     placeholder="Nom Du dépannage ">
              <textarea id="form8" class="md-textarea form-control" rows="3" ngModel name="discription"
                        placeholder="Discription"></textarea>
              <button type="submit" class="btn btn-outline-success" style="background-color: white; color: black;">
                Ajouter
              </button>
            </div>
          </div>
        </div>
      </form>
      <div class="col-md-12">
        <div class="form-inline form-group" *ngIf="depannages!=null">
          <div *ngFor="let d of depannages">
            <a class="sec-a-ath " data-toggle="collapse" data-target="#collapse1-2" (click)="onGetDepannage(d.id)">{{d.nomDepannage}}</a>
          </div>
        </div>
      </div>
    </div>
    <!-- collpase Consulter les fichiers techniques---------------------------------------------------------------------->
    <div id="collapse3" class="collapse " *ngIf="nbr==='C'">
      <div class="row container">
        <div class="col-md-12">
          <div class="container">
            <br><br>
            <form #f="ngForm" (ngSubmit)="onAddFichierTechnique(f.value)">
              <div class="row">
                <div class="col-md-12">
                  <div class="form-inline form-group">
                    <input type="text" class=" form-control margin" ngModel name="nomFichier"
                           placeholder="Nom De fichier">
                    <input type="text" class=" form-control margin " ngModel name="discription"
                           placeholder="Discription">
                    <input type="file" (change)="onSelectedFileTech($event)">
                    <button type="submit" class="btn btn-outline-success"
                            style="background-color: white; color: black;">
                      Sauvgarder
                    </button>
                  </div>
                </div>
              </div>
            </form>
          </div>
          <table class="table table-striped" *ngIf="fichiers!=null">
            <thead>
            <tr>
              <th>Nom du Fichier Technique</th>
              <th>Discription</th>
              <th>Fichier Technique</th>
              <th></th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let f of fichiers">
              <td>{{f.nomFichier}}</td>
              <td>{{f.discription}}</td>
              <td>
                <a href="{{this.athService.host +'/FichierTechnique/fichierPDF/' + f.id}}" target="_blank"
                   style="color: #FF6F00;">Consulter <i class="fa fa-file-pdf-o" style="padding-left: 15px;"></i></a>
              </td>
              <td>
                <button data-toggle="modal" data-target="#myModal2" (click)="onGetFichier(f.id)"><i
                  class="fa fa-edit"></i></button>
                <button (click)="onRemoveFichier(f.id)"><i class="fa fa-remove"></i></button>
              </td>
            </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
  <!-- sous collpase changement de piéces ---------------------------------------------------------------------------->
  <div id="collapse1-1" class="collapse " *ngIf="nbr==='A' && nbr2 ==='AA'">
    <div class=" container">
      <div class="col-md-12">
        <div class="form-inline form-group">
          <div class="div-collpase " *ngIf="athObj!=null">
            <h1>{{athObj.nomAth}}</h1>
            <p>{{athObj.discription}} </p>
            <p>
              <button class="btn btn-outline-info" data-toggle="modal" data-target="#myModal">Modifier
              </button>
              <button class="btn btn-outline-danger" (click)="onDeleteAth(athObj.id)">Supprimer</button>
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!--sous collpase depannage------------------------------------------------------------------------------------------>
  <div id="collapse1-2" class="collapse " *ngIf="nbr==='B' && nbr2==='BB'">
    <div class=" container">
      <div class="col-md-12">
        <div class="form-inline form-group">
          <div class="div-collpase " *ngIf="depannage!=null">
            <h1>{{depannage.nomDepannage}}</h1>
            <p>{{depannage.discription}} </p>
            <p>
              <button class="btn btn-outline-info" data-toggle="modal" data-target="#myModal1">Modifier
              </button>
              <button class="btn btn-outline-danger" (click)="onDeleteDepannge(depannage.id)">Supprimer</button>
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!--contact------------------------------------------------------------------------------------------------------------>
<div class="container">
  <hr>
  <a name="contacts" class="encre">1</a>
  <div class="col-md-6">
    <h1 class="title-h1">Contact</h1>
    <h2 class="title-h2">Retrouvez les contacts les plus utiles en cas d'urgence.</h2>
  </div>
  <form #f="ngForm" (ngSubmit)="onAddContact(f.value)">
    <div class="row">
      <div class="col-md-12">
        <div class="form-inline form-group">
          <input type="text" class=" form-control margin" ngModel name="nom" placeholder="Nom ">
          <input type="text" class=" form-control margin" ngModel name="specialite" placeholder="spécialtité">
          <input type="number" class=" form-control margin" ngModel name="numTel" placeholder="numéro télephone">
          <input type="text" class=" form-control margin" ngModel name="email" placeholder="Email">
          <button type="submit" class="btn btn-outline-success" style="background-color: white; color: black;">
            Ajouter
          </button>
        </div>
      </div>
    </div>
  </form>
  <div class="container">
    <table class="table table-condensed">
      <thead>
      <tr>
        <th>Nom</th>
        <th>N° Téléphone</th>
        <th>Email</th>
        <th>Spécialité</th>
        <th></th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let c of contacts">
        <td>{{c.nom}}</td>
        <td>0{{c.numTel}}</td>
        <td>{{c.email}}</td>
        <td>{{c.specialite}}</td>
        <td>
          <button data-toggle="modal" data-target="#myModal3" (click)="onGetContact(c.id)"><i class="fa fa-edit"></i>
          </button>
          <button (click)="onDeleteContact(c.id)"><i class="fa fa-remove"></i></button>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</div>
<!--Model chengement de piéces----------------------------------------------------------------------------------------->
<div class="modal fade" id="myModal" *ngIf="athObj!=null ">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Merci de modifier le service</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      <form #f="ngForm" (ngSubmit)="onUpdateAth(f.value)">
        <div class="modal-body">
          <input type="text" class=" form-control padding" name="nomAth"
                 [(ngModel)]="athObj.nomAth">
          <br>
          <input type="text" class=" form-control padding" name="discription"
                 [(ngModel)]="athObj.discription">
        </div>
        <div class="modal-footer">
          <button type="submit" class="btn btn-outline-success "
                  style="background-color: white; color: black;">Save
          </button>
          <button type="button" class="btn btn-outline-danger" data-dismiss="modal"
                  style="background-color: white; color: black;">Annuler
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
<!---Model depannage--------------------------------------------------------------------------------------------------->
<div class="modal fade" id="myModal1" *ngIf="depannage!=null ">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Merci de modifier le service</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      <form #f="ngForm" (ngSubmit)="onUpdateDepannage(f.value)">
        <div class="modal-body">
          <input type="text" class=" form-control padding" name="nomDepannage"
                 [(ngModel)]="depannage.nomDepannage">
          <br>
          <input type="text" class=" form-control padding" name="discription"
                 [(ngModel)]="depannage.discription">
        </div>
        <div class="modal-footer">
          <button type="submit" class="btn btn-outline-success "
                  style="background-color: white; color: black;">Save
          </button>
          <button type="button" class="btn btn-outline-danger" data-dismiss="modal"
                  style="background-color: white; color: black;">Annuler
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
<!--Modal fichier technique-------------------------------------------------------------------------------------------->
<div class="modal fade" id="myModal2" *ngIf="fichier!=null ">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Merci de modifier le service</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      <form #f="ngForm" (ngSubmit)="onUpdateFichierTechnique(f.value)">
        <div class="modal-body">
          <input type="text" class=" form-control padding" name="nomFichier"
                 [(ngModel)]="currentFichier.nomFichier">
          <br>
          <input type="text" class=" form-control padding" name="discription"
                 [(ngModel)]="currentFichier.discription">
          <input type="file" (change)="onSelectedFileTech($event)">
          <br>
        </div>
        <br>
        <div class="modal-footer">
          <button type="submit" class="btn btn-outline-success "
                  style="background-color: white; color: black;" (click)="uploadFichiterTechnique()">Sauvgarder
          </button>
          <button type="button" class="btn btn-outline-danger" data-dismiss="modal"
                  style="background-color: white; color: black;">Annuler
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
<!--Modal Contact------------------------------------------------------------------------------------------------------>
<div class="modal fade" id="myModal3" *ngIf="contact!=null ">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Merci de modifier les coordonnées</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      <form #f="ngForm" (ngSubmit)="onUpdateContact(f.value)">
        <div class="modal-body">
          <input type="text" class=" form-control padding" name="nom"
                 [(ngModel)]="contact.nom">
          <br>
          <input type="text" class=" form-control padding" name="specialite"
                 [(ngModel)]="contact.specialite">
          <br>
          <input type="number" class=" form-control padding" name="numTel"
                 [(ngModel)]="contact.numTel">
          <br>
          <input type="email" class=" form-control padding" name="email"
                 [(ngModel)]="contact.email">
        </div>
        <div class="modal-footer">
          <button type="submit" class="btn btn-outline-success "
                  style="background-color: white; color: black;">Sauvgarder
          </button>
          <button type="button" class="btn btn-outline-danger" data-dismiss="modal"
                  style="background-color: white; color: black;">Annuler
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
